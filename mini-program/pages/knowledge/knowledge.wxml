<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input">
      <text class="search-icon">ğŸ”</text>
      <input placeholder="æœç´¢è‚²å„¿çŸ¥è¯†" value="{{searchKeyword}}" bindinput="onSearchInput" />
    </view>
  </view>

  <!-- å¹´é¾„é€‰æ‹©å™¨ -->
  <view class="age-selector">
    <view class="age-tabs">
      <view class="age-tab {{currentAge === '0-6' ? 'active' : ''}}" bindtap="setAge" data-age="0-6">
        0-6ä¸ªæœˆ
      </view>
      <view class="age-tab {{currentAge === '6-12' ? 'active' : ''}}" bindtap="setAge" data-age="6-12">
        6-12ä¸ªæœˆ
      </view>
      <view class="age-tab {{currentAge === '12-24' ? 'active' : ''}}" bindtap="setAge" data-age="12-24">
        1-2å²
      </view>
    </view>
  </view>

  <!-- æ¨èå€¼å¡ç‰‡ -->
  <view class="card recommendation-card">
    <view class="card-header">
      <text class="card-title">å–‚å…»æ¨èå€¼</text>
      <text class="card-subtitle">{{currentAge}}æœˆé¾„</text>
    </view>
    
    <view class="recommendation-grid">
      <view class="recommendation-item">
        <view class="recommendation-icon">ğŸ¼</view>
        <view class="recommendation-content">
          <text class="recommendation-label">æ¯æ—¥å–‚å…»é‡</text>
          <text class="recommendation-value">{{recommendations.feeding.min}}-{{recommendations.feeding.max}}ml</text>
        </view>
      </view>
      
      <view class="recommendation-item">
        <view class="recommendation-icon">â°</view>
        <view class="recommendation-content">
          <text class="recommendation-label">å–‚å…»é¢‘ç‡</text>
          <text class="recommendation-value">{{recommendations.feeding.frequency}}æ¬¡/å¤©</text>
        </view>
      </view>
      
      <view class="recommendation-item">
        <view class="recommendation-icon">ğŸ“</view>
        <view class="recommendation-content">
          <text class="recommendation-label">æœˆå¢é‡</text>
          <text class="recommendation-value">{{recommendations.growth.weightGain.min}}-{{recommendations.growth.weightGain.max}}kg</text>
        </view>
      </view>
    </view>
  </view>

  <!-- çŸ¥è¯†æ–‡ç« åˆ—è¡¨ -->
  <view class="knowledge-list">
    <view class="section-title">è‚²å„¿çŸ¥è¯†</view>
    
    <view class="article-item" wx:for="{{filteredArticles}}" wx:key="id" bindtap="viewArticle" data-id="{{item.id}}">
      <view class="article-image">
        <image src="{{item.image}}" mode="aspectFill"></image>
      </view>
      <view class="article-content">
        <text class="article-title">{{item.title}}</text>
        <text class="article-summary">{{item.summary}}</text>
        <view class="article-meta">
          <text class="article-category">{{item.category}}</text>
          <text class="article-date">{{item.date}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¸¸è§é—®é¢˜ -->
  <view class="card faq-card">
    <view class="card-header">
      <text class="card-title">å¸¸è§é—®é¢˜</text>
    </view>
    
    <view class="faq-list">
      <view class="faq-item" wx:for="{{faqs}}" wx:key="id" bindtap="toggleFaq" data-id="{{item.id}}">
        <view class="faq-question">
          <text class="faq-text">{{item.question}}</text>
          <text class="faq-arrow {{item.expanded ? 'expanded' : ''}}">â–¼</text>
        </view>
        <view class="faq-answer {{item.expanded ? 'expanded' : ''}}">
          <text>{{item.answer}}</text>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- æ–‡ç« è¯¦æƒ…å¼¹çª— -->
<view class="modal-overlay" wx:if="{{showArticleModal}}" bindtap="hideArticleModal">
  <view class="modal-content article-modal" catchtap="stopPropagation">
    <view class="modal-header">
      <text class="text-medium text-bold">{{currentArticle.title}}</text>
      <view class="modal-close" bindtap="hideArticleModal">Ã—</view>
    </view>
    
    <view class="modal-body">
      <view class="article-header">
        <image src="{{currentArticle.image}}" mode="aspectFill" class="article-banner"></image>
        <view class="article-info">
          <text class="article-category">{{currentArticle.category}}</text>
          <text class="article-date">{{currentArticle.date}}</text>
        </view>
      </view>
      
      <view class="article-content">
        <text wx:for="{{currentArticle.content}}" wx:key="*this">{{item}}</text>
      </view>
    </view>
  </view>
</view>
